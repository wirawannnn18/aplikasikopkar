<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test POS True Fullscreen</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        .test-section {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        .success { background: #d1e7dd; color: #0f5132; }
        .error { background: #f8d7da; color: #842029; }
        .warning { background: #fff3cd; color: #664d03; }
        .info { background: #cff4fc; color: #055160; }
        
        .fullscreen-demo {
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin: 10px 0;
            background: #f8f9fa;
        }
        
        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h2><i class="bi bi-arrows-fullscreen me-2"></i>Test POS True Fullscreen</h2>
        <p class="text-muted">Memastikan POS benar-benar menggunakan seluruh layar tanpa ada yang tertutup</p>

        <div class="test-section success">
            <h5><i class="bi bi-check-circle me-2"></i>Perbaikan True Fullscreen yang Diterapkan</h5>
            <ul>
                <li>âœ… HTML & Body forced ke 100vh x 100vw dengan !important</li>
                <li>âœ… MainContent dengan position: fixed dan z-index: 99999</li>
                <li>âœ… POS Container menggunakan seluruh viewport</li>
                <li>âœ… Main Content height: calc(100vh - 80px) untuk header</li>
                <li>âœ… Products dan Cart section menggunakan tinggi penuh</li>
                <li>âœ… Overflow hidden untuk mencegah scroll</li>
            </ul>
        </div>

        <div class="test-section info">
            <h5><i class="bi bi-display me-2"></i>Layout Specification</h5>
            <div class="fullscreen-demo">
                <strong>True Fullscreen Layout (100vh x 100vw):</strong>
                <pre style="margin: 10px 0; font-size: 12px;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â† 100vw
â”‚              POS HEADER (80px)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                         â”‚               â”‚
â”‚    PRODUCTS SECTION     â”‚     CART      â”‚ â† calc(100vh - 80px)
â”‚    (flex: 1)           â”‚   (400px)     â”‚
â”‚                         â”‚               â”‚
â”‚   - Search (full height)â”‚ - Full height â”‚
â”‚   - Product grid        â”‚ - Scrollable  â”‚
â”‚   - Scrollable          â”‚ - All featuresâ”‚
â”‚                         â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                100vh total
                </pre>
            </div>
        </div>

        <div class="test-section warning">
            <h5><i class="bi bi-exclamation-triangle me-2"></i>Yang Harus Terjadi</h5>
            <div class="row">
                <div class="col-md-6">
                    <h6>Saat Buka POS:</h6>
                    <ul>
                        <li>Sidebar menghilang sepenuhnya</li>
                        <li>Navbar menghilang sepenuhnya</li>
                        <li>POS mengisi 100% layar</li>
                        <li>Tidak ada scrollbar di body</li>
                        <li>Header POS terlihat penuh</li>
                        <li>2 kolom layout mengisi sisa layar</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <h6>Layout Behavior:</h6>
                    <ul>
                        <li>Products section: flex: 1 (sisa lebar)</li>
                        <li>Cart section: width: 400px (fixed)</li>
                        <li>Keduanya: height: calc(100vh - 80px)</li>
                        <li>Internal scrolling jika konten overflow</li>
                        <li>Responsive: stack di mobile</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="test-section">
            <h5><i class="bi bi-code-slash me-2"></i>CSS Forces Applied</h5>
            <div class="code-block">
/* FORCE FULLSCREEN POS STYLES */
html, body {
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
    height: 100vh !important;
    width: 100vw !important;
}

#mainContent {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    width: 100vw !important;
    height: 100vh !important;
    z-index: 99999 !important;
}

.pos-container {
    height: 100vh !important;
    width: 100vw !important;
    display: flex !important;
    flex-direction: column !important;
}

.main-content {
    height: calc(100vh - 80px) !important;
    display: flex !important;
}

.products-section, .cart-section {
    height: calc(100vh - 80px) !important;
    overflow-y: auto !important;
}
            </div>
        </div>

        <div class="test-section">
            <h5><i class="bi bi-play me-2"></i>Test Instructions</h5>
            <ol>
                <li><strong>Refresh Browser</strong> - Tekan F5 atau Ctrl+R</li>
                <li><strong>Login</strong> ke aplikasi koperasi</li>
                <li><strong>Klik "Point of Sales"</strong> di menu</li>
                <li><strong>Verifikasi Fullscreen:</strong>
                    <ul>
                        <li>Tidak ada sidebar di kiri</li>
                        <li>Tidak ada navbar di atas</li>
                        <li>POS header mengisi lebar penuh</li>
                        <li>Products dan cart mengisi tinggi penuh</li>
                        <li>Tidak ada scrollbar di body</li>
                    </ul>
                </li>
                <li><strong>Test Functionality:</strong>
                    <ul>
                        <li>Search produk berfungsi</li>
                        <li>Add to cart berfungsi</li>
                        <li>Cart terlihat penuh di kanan</li>
                        <li>Payment process berfungsi</li>
                    </ul>
                </li>
                <li><strong>Test Exit:</strong>
                    <ul>
                        <li>Klik "Kembali ke Menu" atau tekan ESC</li>
                        <li>Sidebar dan navbar kembali normal</li>
                    </ul>
                </li>
            </ol>
            
            <div class="mt-3">
                <button class="btn btn-primary" onclick="openPOSTest()">
                    <i class="bi bi-play me-2"></i>Test POS Fullscreen
                </button>
                <button class="btn btn-secondary ms-2" onclick="showDebugCode()">
                    <i class="bi bi-code me-2"></i>Show Debug Code
                </button>
            </div>
        </div>

        <div class="test-section" id="debugSection" style="display: none;">
            <h5><i class="bi bi-bug me-2"></i>Debug Code</h5>
            <p>Jika POS tidak fullscreen, buka Developer Tools (F12) dan jalankan:</p>
            <div class="code-block">
// DEBUG POS FULLSCREEN
console.log('ğŸ” Debugging POS Fullscreen...');

// Check elements
const sidebar = document.getElementById('sidebar');
const navbar = document.querySelector('.navbar');
const mainContent = document.getElementById('mainContent');
const posContainer = document.querySelector('.pos-container');
const productsSection = document.querySelector('.products-section');
const cartSection = document.querySelector('.cart-section');

console.log('Elements found:');
console.log('- Sidebar:', !!sidebar, sidebar?.style.display);
console.log('- Navbar:', !!navbar, navbar?.style.display);
console.log('- MainContent:', !!mainContent);
console.log('- POS Container:', !!posContainer);
console.log('- Products Section:', !!productsSection);
console.log('- Cart Section:', !!cartSection);

// Check dimensions
if (posContainer) {
    console.log('POS Container dimensions:');
    console.log('- Width:', posContainer.offsetWidth, 'px');
    console.log('- Height:', posContainer.offsetHeight, 'px');
    console.log('- Viewport:', window.innerWidth, 'x', window.innerHeight);
}

// Check styles
if (mainContent) {
    const styles = window.getComputedStyle(mainContent);
    console.log('MainContent styles:');
    console.log('- Position:', styles.position);
    console.log('- Width:', styles.width);
    console.log('- Height:', styles.height);
    console.log('- Z-index:', styles.zIndex);
}

// Overall status
const isFullscreen = 
    sidebar?.style.display === 'none' &&
    navbar?.style.display === 'none' &&
    posContainer?.offsetWidth >= window.innerWidth * 0.95 &&
    posContainer?.offsetHeight >= window.innerHeight * 0.95;

console.log('ğŸ¯ FULLSCREEN STATUS:', isFullscreen ? 'âœ… TRUE FULLSCREEN' : 'âŒ NOT FULLSCREEN');

if (!isFullscreen) {
    console.log('ğŸ”§ Applying emergency fullscreen fix...');
    
    // Force fullscreen
    if (sidebar) sidebar.style.display = 'none';
    if (navbar) navbar.style.display = 'none';
    
    document.body.style.margin = '0';
    document.body.style.padding = '0';
    document.body.style.overflow = 'hidden';
    document.body.style.height = '100vh';
    document.body.style.width = '100vw';
    
    if (mainContent) {
        mainContent.style.position = 'fixed';
        mainContent.style.top = '0';
        mainContent.style.left = '0';
        mainContent.style.width = '100vw';
        mainContent.style.height = '100vh';
        mainContent.style.zIndex = '99999';
    }
    
    console.log('âœ… Emergency fix applied!');
}
            </div>
        </div>

        <div class="test-section">
            <h5><i class="bi bi-question-circle me-2"></i>Troubleshooting</h5>
            <div class="accordion" id="troubleshootingAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#problem1">
                            POS tidak mengisi seluruh layar
                        </button>
                    </h2>
                    <div id="problem1" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                        <div class="accordion-body">
                            <ol>
                                <li>Hard refresh: Ctrl+Shift+R</li>
                                <li>Clear browser cache</li>
                                <li>Check browser zoom (harus 100%)</li>
                                <li>Jalankan debug code di atas</li>
                                <li>Pastikan tidak ada CSS override</li>
                            </ol>
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#problem2">
                            Sidebar/Navbar masih terlihat
                        </button>
                    </h2>
                    <div id="problem2" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                        <div class="accordion-body">
                            <ol>
                                <li>Check JavaScript console untuk errors</li>
                                <li>Pastikan renderPOS() function terpanggil</li>
                                <li>Verifikasi display: none terapply</li>
                                <li>Check z-index conflicts</li>
                            </ol>
                        </div>
                    </div>
                </div>
                
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-target="#problem3">
                            Cart atau Products terpotong
                        </button>
                    </h2>
                    <div id="problem3" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                        <div class="accordion-body">
                            <ol>
                                <li>Check height: calc(100vh - 80px) terapply</li>
                                <li>Verifikasi overflow-y: auto untuk scrolling</li>
                                <li>Pastikan flex layout berfungsi</li>
                                <li>Test di berbagai ukuran layar</li>
                            </ol>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function openPOSTest() {
            // Open main application
            const posWindow = window.open('index.html', '_blank', 'width=1400,height=900');
            
            setTimeout(() => {
                alert('POS Test Window Opened!\n\n' +
                      'Langkah Test:\n' +
                      '1. Login ke aplikasi\n' +
                      '2. Klik "Point of Sales"\n' +
                      '3. Verifikasi TRUE FULLSCREEN:\n' +
                      '   - Tidak ada sidebar/navbar\n' +
                      '   - POS mengisi 100% layar\n' +
                      '   - Cart terlihat penuh di kanan\n' +
                      '   - Products grid di kiri\n' +
                      '4. Test semua functionality\n' +
                      '5. Test exit dengan ESC atau tombol\n\n' +
                      'Jika ada masalah: Jalankan debug code');
            }, 1000);
        }

        function showDebugCode() {
            const debugSection = document.getElementById('debugSection');
            debugSection.style.display = debugSection.style.display === 'none' ? 'block' : 'none';
        }
    </script>
</body>
</html>