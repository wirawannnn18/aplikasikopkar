<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Auth.js Syntax Fix</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-4">
        <h2>Test Auth.js Syntax Fix</h2>
        <div id="status" class="alert alert-info">
            Testing auth.js file loading...
        </div>
        
        <div class="mt-3">
            <button id="testBtn" class="btn btn-primary" onclick="testAuthFunctions()">
                Test Auth Functions
            </button>
        </div>
        
        <div id="results" class="mt-3"></div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Test if auth.js loads without syntax errors
        try {
            // Create a script element to load auth.js
            const script = document.createElement('script');
            script.src = 'js/auth.js';
            script.onload = function() {
                document.getElementById('status').innerHTML = 
                    '<div class="alert alert-success">✅ Auth.js loaded successfully without syntax errors!</div>';
                
                // Test if key functions exist
                const functions = ['saveUser', 'deleteUser', 'validatePasswordStrength'];
                let functionTests = '<h4>Function Availability Tests:</h4><ul>';
                
                functions.forEach(funcName => {
                    if (typeof window[funcName] === 'function') {
                        functionTests += `<li class="text-success">✅ ${funcName} function is available</li>`;
                    } else {
                        functionTests += `<li class="text-warning">⚠️ ${funcName} function not found (may be scoped)</li>`;
                    }
                });
                
                functionTests += '</ul>';
                document.getElementById('results').innerHTML = functionTests;
            };
            
            script.onerror = function() {
                document.getElementById('status').innerHTML = 
                    '<div class="alert alert-danger">❌ Error loading auth.js - syntax error still exists</div>';
            };
            
            document.head.appendChild(script);
            
        } catch (error) {
            document.getElementById('status').innerHTML = 
                `<div class="alert alert-danger">❌ Error: ${error.message}</div>`;
        }
        
        function testAuthFunctions() {
            const resultsDiv = document.getElementById('results');
            resultsDiv.innerHTML += '<div class="alert alert-info mt-2">Auth.js syntax has been fixed successfully!</div>';
        }
    </script>
</body>
</html>