<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Validation - Laporan Transaksi & Simpanan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .validation-container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            max-width: 1400px;
            margin: 0 auto;
        }
        .validation-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #1e3c72;
        }
        .category-section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #1e3c72;
        }
        .test-item {
            background: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            border: 1px solid #dee2e6;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .test-item .status {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }
        .status.pending { background: #ffc107; color: white; }
        .status.passed { background: #28a745; color: white; }
        .status.failed { background: #dc3545; color: white; }
        .status.na { background: #6c757d; color: white; }
        .progress-section {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        .summary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .summary-card {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        .summary-number {
            font-size: 2.5rem;
            font-weight: bold;
        }
        .device-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            margin: 2px;
        }
        .device-desktop { background: #007bff; color: white; }
        .device-tablet { background: #17a2b8; color: white; }
        .device-mobile { background: #28a745; color: white; }
        .browser-badge {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            margin: 2px;
        }
        .browser-chrome { background: #4285f4; color: white; }
        .browser-firefox { background: #ff7139; color: white; }
        .browser-safari { background: #006cff; color: white; }
        .browser-edge { background: #0078d7; color: white; }
    </style>
</head>
<body>
    <div class="validation-container">
        <div class="validation-header">
            <h1><i class="fas fa-check-double"></i> Final Validation Testing</h1>
            <p class="lead">Task 17: Comprehensive Testing & Validation</p>
            <p class="text-muted">Laporan Transaksi & Simpanan Anggota Module</p>
        </div>

        <!-- Progress Summary -->
        <div class="progress-section">
            <h4><i class="fas fa-chart-line"></i> Overall Progress</h4>
            <div class="progress" style="height: 30px;">
                <div id="overallProgress" class="progress-bar progress-bar-striped progress-bar-animated" 
                     role="progressbar" style="width: 0%">0%</div>
            </div>
            <div class="summary-grid mt-3">
                <div class="summary-card">
                    <div class="summary-number" id="totalTests">0</div>
                    <div>Total Tests</div>
                </div>
                <div class="summary-card">
                    <div class="summary-number" id="passedTests">0</div>
                    <div>Passed</div>
                </div>
                <div class="summary-card">
                    <div class="summary-number" id="failedTests">0</div>
                    <div>Failed</div>
                </div>
                <div class="summary-card">
                    <div class="summary-number" id="pendingTests">0</div>
                    <div>Pending</div>
                </div>
            </div>
        </div>

        <!-- Category 1: Device Testing -->
        <div class="category-section">
            <h3><i class="fas fa-mobile-alt"></i> 1. Device & Responsive Testing</h3>
            <p class="text-muted">Test on different devices and screen sizes</p>
            
            <div class="test-item" data-test="device-desktop">
                <div>
                    <strong>Desktop Testing (>= 1200px)</strong>
                    <br><small>Full table view, all columns visible, proper spacing</small>
                    <br><span class="device-badge device-desktop">Desktop</span>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="device-tablet">
                <div>
                    <strong>Tablet Testing (768px - 1199px)</strong>
                    <br><small>Scrollable table, responsive layout, touch-friendly</small>
                    <br><span class="device-badge device-tablet">Tablet</span>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="device-mobile">
                <div>
                    <strong>Mobile Testing (< 768px)</strong>
                    <br><small>Card view, stacked layout, mobile-optimized</small>
                    <br><span class="device-badge device-mobile">Mobile</span>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="device-orientation">
                <div>
                    <strong>Orientation Testing</strong>
                    <br><small>Portrait and landscape modes work correctly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 2: Browser Compatibility -->
        <div class="category-section">
            <h3><i class="fas fa-globe"></i> 2. Cross-Browser Compatibility</h3>
            <p class="text-muted">Test on different browsers</p>
            
            <div class="test-item" data-test="browser-chrome">
                <div>
                    <strong>Google Chrome</strong>
                    <br><small>All features work, no console errors</small>
                    <br><span class="browser-badge browser-chrome">Chrome</span>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="browser-firefox">
                <div>
                    <strong>Mozilla Firefox</strong>
                    <br><small>All features work, no console errors</small>
                    <br><span class="browser-badge browser-firefox">Firefox</span>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="browser-safari">
                <div>
                    <strong>Safari (if available)</strong>
                    <br><small>All features work, no console errors</small>
                    <br><span class="browser-badge browser-safari">Safari</span>
                </div>
                <div class="status na" onclick="toggleStatus(this)">
                    <i class="fas fa-minus"></i>
                </div>
            </div>

            <div class="test-item" data-test="browser-edge">
                <div>
                    <strong>Microsoft Edge</strong>
                    <br><small>All features work, no console errors</small>
                    <br><span class="browser-badge browser-edge">Edge</span>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 3: Data Scenarios -->
        <div class="category-section">
            <h3><i class="fas fa-database"></i> 3. Data Scenario Testing</h3>
            <p class="text-muted">Test with various data conditions</p>
            
            <div class="test-item" data-test="data-empty">
                <div>
                    <strong>Empty Data</strong>
                    <br><small>No anggota: Shows appropriate message, no errors</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="data-small">
                <div>
                    <strong>Small Dataset (1-10 anggota)</strong>
                    <br><small>Displays correctly, all features work</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="data-medium">
                <div>
                    <strong>Medium Dataset (11-100 anggota)</strong>
                    <br><small>Pagination works, performance acceptable</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="data-large">
                <div>
                    <strong>Large Dataset (100+ anggota)</strong>
                    <br><small>Performance optimizations active, no lag</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="data-no-transactions">
                <div>
                    <strong>Anggota Without Transactions</strong>
                    <br><small>Shows zero values, detail modal shows empty message</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="data-no-simpanan">
                <div>
                    <strong>Anggota Without Simpanan</strong>
                    <br><small>Shows zero values, detail modal shows empty message</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="data-keluar">
                <div>
                    <strong>Anggota Keluar Exclusion</strong>
                    <br><small>Anggota with status 'Keluar' are not displayed</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 4: Performance Testing -->
        <div class="category-section">
            <h3><i class="fas fa-tachometer-alt"></i> 4. Performance Testing</h3>
            <p class="text-muted">Verify performance targets are met</p>
            
            <div class="test-item" data-test="perf-load">
                <div>
                    <strong>Initial Load Time (Target: < 1s)</strong>
                    <br><small>Page loads and renders within 1 second</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="perf-search">
                <div>
                    <strong>Search Response (Target: < 200ms)</strong>
                    <br><small>Search results appear within 200ms after typing</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="perf-filter">
                <div>
                    <strong>Filter Response (Target: < 200ms)</strong>
                    <br><small>Filter results appear within 200ms</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="perf-export">
                <div>
                    <strong>CSV Export (Target: < 2s for 1000 records)</strong>
                    <br><small>Export completes within acceptable time</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="perf-modal">
                <div>
                    <strong>Modal Open (Target: < 100ms)</strong>
                    <br><small>Detail modals open instantly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="perf-sort">
                <div>
                    <strong>Sorting Performance</strong>
                    <br><small>Sorting completes instantly, no lag</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 5: Feature Verification -->
        <div class="category-section">
            <h3><i class="fas fa-check-circle"></i> 5. Feature Verification</h3>
            <p class="text-muted">Verify all features work correctly</p>
            
            <div class="test-item" data-test="feature-statistics">
                <div>
                    <strong>Statistics Cards</strong>
                    <br><small>All 4 cards display correct totals, update with filters</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-search">
                <div>
                    <strong>Search Functionality</strong>
                    <br><small>Search by NIK, nama, noKartu works correctly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-filter-dept">
                <div>
                    <strong>Departemen Filter</strong>
                    <br><small>Filter by departemen works, shows correct results</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-filter-type">
                <div>
                    <strong>Tipe Anggota Filter</strong>
                    <br><small>Filter by tipe anggota works, shows correct results</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-filter-reset">
                <div>
                    <strong>Reset Filter</strong>
                    <br><small>Reset button clears all filters, shows all data</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-sort">
                <div>
                    <strong>Sorting</strong>
                    <br><small>All columns sort correctly (asc/desc), indicators show</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-detail-transaksi">
                <div>
                    <strong>Detail Transaksi Modal</strong>
                    <br><small>Opens correctly, shows all transactions, separates cash/bon</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-detail-simpanan">
                <div>
                    <strong>Detail Simpanan Modal</strong>
                    <br><small>Opens correctly, shows all simpanan types with details</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-export">
                <div>
                    <strong>CSV Export</strong>
                    <br><small>Exports correct data, proper format, correct filename</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="feature-print">
                <div>
                    <strong>Print Functionality</strong>
                    <br><small>Print dialog opens, layout correct, includes header/footer</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 6: Authorization Testing -->
        <div class="category-section">
            <h3><i class="fas fa-user-shield"></i> 6. Authorization & Access Control</h3>
            <p class="text-muted">Test role-based access</p>
            
            <div class="test-item" data-test="auth-admin">
                <div>
                    <strong>Admin Access</strong>
                    <br><small>Admin can access, see all data, use all features</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="auth-kasir">
                <div>
                    <strong>Kasir Access</strong>
                    <br><small>Kasir can access, see all data, use all features</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="auth-anggota">
                <div>
                    <strong>Anggota Access</strong>
                    <br><small>Anggota can access, see only own data</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="auth-unauthorized">
                <div>
                    <strong>Unauthorized Access</strong>
                    <br><small>Unauthorized users redirected, see error message</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 7: Error Handling -->
        <div class="category-section">
            <h3><i class="fas fa-exclamation-triangle"></i> 7. Error Handling</h3>
            <p class="text-muted">Test error scenarios</p>
            
            <div class="test-item" data-test="error-localstorage">
                <div>
                    <strong>LocalStorage Unavailable</strong>
                    <br><small>Graceful error message, no crash</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="error-corrupted">
                <div>
                    <strong>Corrupted Data</strong>
                    <br><small>Handles invalid JSON, shows error message</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="error-missing">
                <div>
                    <strong>Missing Data Structures</strong>
                    <br><small>Handles missing keys, uses defaults</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="error-export-empty">
                <div>
                    <strong>Export Empty Data</strong>
                    <br><small>Shows warning message, prevents export</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Category 8: Requirements Verification -->
        <div class="category-section">
            <h3><i class="fas fa-clipboard-check"></i> 8. Requirements Verification</h3>
            <p class="text-muted">Verify all 10 requirements are met</p>
            
            <div class="test-item" data-test="req-1">
                <div>
                    <strong>Requirement 1: Main Report Display</strong>
                    <br><small>All anggota displayed with complete data, keluar excluded</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-2">
                <div>
                    <strong>Requirement 2: Filter & Search</strong>
                    <br><small>Search and all filters work correctly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-3">
                <div>
                    <strong>Requirement 3: Transaction Details</strong>
                    <br><small>Detail modal shows all transaction data correctly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-4">
                <div>
                    <strong>Requirement 4: Simpanan Details</strong>
                    <br><small>Detail modal shows all simpanan types correctly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-5">
                <div>
                    <strong>Requirement 5: CSV Export</strong>
                    <br><small>Export works, correct format, proper filename</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-6">
                <div>
                    <strong>Requirement 6: Print</strong>
                    <br><small>Print works, correct layout, includes header/footer</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-7">
                <div>
                    <strong>Requirement 7: Statistics</strong>
                    <br><small>All 4 statistics cards display and update correctly</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-8">
                <div>
                    <strong>Requirement 8: Sorting</strong>
                    <br><small>All columns sort correctly with indicators</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-9">
                <div>
                    <strong>Requirement 9: Authorization</strong>
                    <br><small>Role-based access works for all roles</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>

            <div class="test-item" data-test="req-10">
                <div>
                    <strong>Requirement 10: Responsive Design</strong>
                    <br><small>Works on desktop, tablet, mobile</small>
                </div>
                <div class="status pending" onclick="toggleStatus(this)">
                    <i class="fas fa-clock"></i>
                </div>
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="text-center mt-4">
            <button class="btn btn-success btn-lg" onclick="markAllPassed()">
                <i class="fas fa-check-double"></i> Mark All Passed
            </button>
            <button class="btn btn-warning btn-lg" onclick="resetAll()">
                <i class="fas fa-redo"></i> Reset All
            </button>
            <button class="btn btn-primary btn-lg" onclick="generateReport()">
                <i class="fas fa-file-alt"></i> Generate Report
            </button>
        </div>

        <!-- Report Output -->
        <div id="reportOutput" class="mt-4" style="display: none;">
            <div class="alert alert-info">
                <h4><i class="fas fa-file-alt"></i> Test Report</h4>
                <pre id="reportContent" style="white-space: pre-wrap;"></pre>
            </div>
        </div>
    </div>

    <script>
        // Initialize counters
        function updateCounters() {
            const allTests = document.querySelectorAll('.test-item');
            const total = allTests.length;
            const passed = document.querySelectorAll('.status.passed').length;
            const failed = document.querySelectorAll('.status.failed').length;
            const pending = document.querySelectorAll('.status.pending').length;
            
            document.getElementById('totalTests').textContent = total;
            document.getElementById('passedTests').textContent = passed;
            document.getElementById('failedTests').textContent = failed;
            document.getElementById('pendingTests').textContent = pending;
            
            const progress = total > 0 ? Math.round(((passed + failed) / total) * 100) : 0;
            const progressBar = document.getElementById('overallProgress');
            progressBar.style.width = progress + '%';
            progressBar.textContent = progress + '%';
            
            if (progress === 100) {
                progressBar.classList.remove('progress-bar-animated');
                if (failed === 0) {
                    progressBar.classList.remove('bg-info');
                    progressBar.classList.add('bg-success');
                } else {
                    progressBar.classList.remove('bg-info');
                    progressBar.classList.add('bg-warning');
                }
            }
        }

        // Toggle status
        function toggleStatus(element) {
            if (element.classList.contains('pending')) {
                element.classList.remove('pending');
                element.classList.add('passed');
                element.innerHTML = '<i class="fas fa-check"></i>';
            } else if (element.classList.contains('passed')) {
                element.classList.remove('passed');
                element.classList.add('failed');
                element.innerHTML = '<i class="fas fa-times"></i>';
            } else if (element.classList.contains('failed')) {
                element.classList.remove('failed');
                element.classList.add('pending');
                element.innerHTML = '<i class="fas fa-clock"></i>';
            } else if (element.classList.contains('na')) {
                // N/A items don't toggle
                return;
            }
            updateCounters();
        }

        // Mark all as passed
        function markAllPassed() {
            const allStatuses = document.querySelectorAll('.status.pending, .status.failed');
            allStatuses.forEach(status => {
                if (!status.classList.contains('na')) {
                    status.classList.remove('pending', 'failed');
                    status.classList.add('passed');
                    status.innerHTML = '<i class="fas fa-check"></i>';
                }
            });
            updateCounters();
        }

        // Reset all
        function resetAll() {
            const allStatuses = document.querySelectorAll('.status');
            allStatuses.forEach(status => {
                if (!status.classList.contains('na')) {
                    status.classList.remove('passed', 'failed');
                    status.classList.add('pending');
                    status.innerHTML = '<i class="fas fa-clock"></i>';
                }
            });
            updateCounters();
            document.getElementById('reportOutput').style.display = 'none';
        }

        // Generate report
        function generateReport() {
            const categories = document.querySelectorAll('.category-section');
            let report = '# FINAL VALIDATION REPORT\n';
            report += '## Laporan Transaksi & Simpanan Anggota Module\n\n';
            report += `Date: ${new Date().toLocaleString('id-ID')}\n\n`;
            
            const total = document.querySelectorAll('.test-item').length;
            const passed = document.querySelectorAll('.status.passed').length;
            const failed = document.querySelectorAll('.status.failed').length;
            const pending = document.querySelectorAll('.status.pending').length;
            const na = document.querySelectorAll('.status.na').length;
            
            report += '## Summary\n\n';
            report += `- Total Tests: ${total}\n`;
            report += `- Passed: ${passed} (${Math.round(passed/total*100)}%)\n`;
            report += `- Failed: ${failed} (${Math.round(failed/total*100)}%)\n`;
            report += `- Pending: ${pending} (${Math.round(pending/total*100)}%)\n`;
            report += `- N/A: ${na}\n\n`;
            
            if (failed === 0 && pending === 0) {
                report += '✅ **ALL TESTS PASSED!**\n\n';
            } else if (failed > 0) {
                report += '⚠️ **SOME TESTS FAILED - REVIEW REQUIRED**\n\n';
            } else {
                report += '⏳ **TESTING IN PROGRESS**\n\n';
            }
            
            categories.forEach((category, index) => {
                const title = category.querySelector('h3').textContent;
                report += `## ${title}\n\n`;
                
                const tests = category.querySelectorAll('.test-item');
                tests.forEach(test => {
                    const name = test.querySelector('strong').textContent;
                    const status = test.querySelector('.status');
                    let statusText = '⏳ PENDING';
                    
                    if (status.classList.contains('passed')) {
                        statusText = '✅ PASSED';
                    } else if (status.classList.contains('failed')) {
                        statusText = '❌ FAILED';
                    } else if (status.classList.contains('na')) {
                        statusText = '➖ N/A';
                    }
                    
                    report += `- ${statusText} - ${name}\n`;
                });
                
                report += '\n';
            });
            
            report += '## Conclusion\n\n';
            if (failed === 0 && pending === 0) {
                report += 'The Laporan Transaksi & Simpanan Anggota module has passed all validation tests and is ready for production deployment.\n\n';
                report += '### Next Steps:\n';
                report += '1. Deploy to production environment\n';
                report += '2. Monitor for any issues\n';
                report += '3. Gather user feedback\n';
                report += '4. Plan future enhancements\n';
            } else if (failed > 0) {
                report += 'Some tests have failed. Please review and fix the issues before proceeding to production.\n\n';
                report += '### Action Required:\n';
                report += '1. Review failed tests\n';
                report += '2. Fix identified issues\n';
                report += '3. Re-run validation\n';
                report += '4. Document any workarounds\n';
            } else {
                report += 'Testing is still in progress. Complete all pending tests before final deployment.\n';
            }
            
            document.getElementById('reportContent').textContent = report;
            document.getElementById('reportOutput').style.display = 'block';
            
            // Scroll to report
            document.getElementById('reportOutput').scrollIntoView({ behavior: 'smooth' });
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', function() {
            updateCounters();
        });
    </script>
</body>
</html>
