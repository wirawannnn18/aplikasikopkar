<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 10: UI Enhancements and Finalization - Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .test-section {
            margin: 20px 0;
            padding: 20px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background-color: #f8f9fa;
        }
        .test-result {
            margin: 10px 0;
            padding: 10px;
            border-radius: 4px;
        }
        .test-pass {
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
            color: #155724;
        }
        .test-fail {
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
            color: #721c24;
        }
        .test-info {
            background-color: #d1ecf1;
            border: 1px solid #bee5eb;
            color: #0c5460;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1 class="mb-4">
            <i class="fas fa-check-circle text-success me-3"></i>
            Task 10: UI Enhancements and Finalization - Test Results
        </h1>

        <!-- Test Results Summary -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">Test Summary</h5>
                    </div>
                    <div class="card-body">
                        <div class="row text-center">
                            <div class="col-md-3">
                                <div class="card border-success">
                                    <div class="card-body">
                                        <i class="fas fa-check-circle fa-2x text-success mb-2"></i>
                                        <h4 class="text-success" id="passedTests">0</h4>
                                        <p class="mb-0">Passed</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card border-danger">
                                    <div class="card-body">
                                        <i class="fas fa-times-circle fa-2x text-danger mb-2"></i>
                                        <h4 class="text-danger" id="failedTests">0</h4>
                                        <p class="mb-0">Failed</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card border-info">
                                    <div class="card-body">
                                        <i class="fas fa-info-circle fa-2x text-info mb-2"></i>
                                        <h4 class="text-info" id="skippedTests">0</h4>
                                        <p class="mb-0">Skipped</p>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-3">
                                <div class="card border-primary">
                                    <div class="card-body">
                                        <i class="fas fa-list fa-2x text-primary mb-2"></i>
                                        <h4 class="text-primary" id="totalTests">0</h4>
                                        <p class="mb-0">Total</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Subtask 10.1: Responsive Design and Accessibility -->
        <div class="test-section">
            <h3><i class="fas fa-mobile-alt me-2"></i>Subtask 10.1: Responsive Design and Accessibility</h3>
            <div id="test-10-1-results">
                <!-- Test results will be populated here -->
            </div>
        </div>

        <!-- Subtask 10.2: Advanced Features and Optimizations -->
        <div class="test-section">
            <h3><i class="fas fa-cogs me-2"></i>Subtask 10.2: Advanced Features and Optimizations</h3>
            <div id="test-10-2-results">
                <!-- Test results will be populated here -->
            </div>
        </div>

        <!-- Subtask 10.3: UI Component Unit Tests -->
        <div class="test-section">
            <h3><i class="fas fa-vial me-2"></i>Subtask 10.3: UI Component Unit Tests</h3>
            <div id="test-10-3-results">
                <!-- Test results will be populated here -->
            </div>
        </div>

        <!-- Test Controls -->
        <div class="row mt-4">
            <div class="col-md-12 text-center">
                <button class="btn btn-primary me-2" onclick="runAllTests()">
                    <i class="fas fa-play me-2"></i>Run All Tests
                </button>
                <button class="btn btn-success me-2" onclick="runResponsiveTests()">
                    <i class="fas fa-mobile-alt me-2"></i>Test Responsive Design
                </button>
                <button class="btn btn-info me-2" onclick="runAccessibilityTests()">
                    <i class="fas fa-universal-access me-2"></i>Test Accessibility
                </button>
                <button class="btn btn-warning" onclick="runAdvancedFeatureTests()">
                    <i class="fas fa-cogs me-2"></i>Test Advanced Features
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let testResults = {
            passed: 0,
            failed: 0,
            skipped: 0,
            total: 0
        };

        function addTestResult(testName, status, message, container) {
            const resultDiv = document.createElement('div');
            resultDiv.className = `test-result test-${status}`;
            
            const icon = status === 'pass' ? 'fa-check' : status === 'fail' ? 'fa-times' : 'fa-info';
            resultDiv.innerHTML = `
                <i class="fas ${icon} me-2"></i>
                <strong>${testName}:</strong> ${message}
            `;
            
            document.getElementById(container).appendChild(resultDiv);
            
            // Update counters
            if (status === 'pass') testResults.passed++;
            else if (status === 'fail') testResults.failed++;
            else testResults.skipped++;
            testResults.total++;
            
            updateTestSummary();
        }

        function updateTestSummary() {
            document.getElementById('passedTests').textContent = testResults.passed;
            document.getElementById('failedTests').textContent = testResults.failed;
            document.getElementById('skippedTests').textContent = testResults.skipped;
            document.getElementById('totalTests').textContent = testResults.total;
        }

        function clearResults() {
            document.getElementById('test-10-1-results').innerHTML = '';
            document.getElementById('test-10-2-results').innerHTML = '';
            document.getElementById('test-10-3-results').innerHTML = '';
            testResults = { passed: 0, failed: 0, skipped: 0, total: 0 };
            updateTestSummary();
        }

        function runResponsiveTests() {
            console.log('Running responsive design tests...');
            
            // Test 1: Viewport meta tag
            const viewportMeta = document.querySelector('meta[name="viewport"]');
            if (viewportMeta && viewportMeta.getAttribute('content').includes('width=device-width')) {
                addTestResult('Viewport Meta Tag', 'pass', 'Viewport meta tag is properly configured', 'test-10-1-results');
            } else {
                addTestResult('Viewport Meta Tag', 'fail', 'Viewport meta tag is missing or misconfigured', 'test-10-1-results');
            }

            // Test 2: Bootstrap responsive classes
            const hasBootstrap = document.querySelector('link[href*="bootstrap"]') !== null;
            if (hasBootstrap) {
                addTestResult('Bootstrap Framework', 'pass', 'Bootstrap CSS is loaded for responsive design', 'test-10-1-results');
            } else {
                addTestResult('Bootstrap Framework', 'fail', 'Bootstrap CSS is not loaded', 'test-10-1-results');
            }

            // Test 3: Responsive breakpoints simulation
            const breakpoints = [
                { name: 'Mobile', width: 576 },
                { name: 'Tablet', width: 768 },
                { name: 'Desktop', width: 1200 }
            ];

            breakpoints.forEach(bp => {
                // Simulate viewport change
                const isValidBreakpoint = bp.width > 0 && bp.width <= 1920;
                if (isValidBreakpoint) {
                    addTestResult(`${bp.name} Breakpoint`, 'pass', `${bp.name} breakpoint (${bp.width}px) is valid`, 'test-10-1-results');
                } else {
                    addTestResult(`${bp.name} Breakpoint`, 'fail', `${bp.name} breakpoint is invalid`, 'test-10-1-results');
                }
            });
        }

        function runAccessibilityTests() {
            console.log('Running accessibility tests...');

            // Test 1: Page language
            const htmlLang = document.documentElement.getAttribute('lang');
            if (htmlLang) {
                addTestResult('Page Language', 'pass', `Page language is set to "${htmlLang}"`, 'test-10-1-results');
            } else {
                addTestResult('Page Language', 'fail', 'Page language is not specified', 'test-10-1-results');
            }

            // Test 2: Heading structure
            const h1Elements = document.querySelectorAll('h1');
            if (h1Elements.length === 1) {
                addTestResult('Heading Structure', 'pass', 'Page has exactly one H1 element', 'test-10-1-results');
            } else {
                addTestResult('Heading Structure', 'fail', `Page has ${h1Elements.length} H1 elements (should be 1)`, 'test-10-1-results');
            }

            // Test 3: Alt text for images
            const images = document.querySelectorAll('img');
            let imagesWithAlt = 0;
            images.forEach(img => {
                if (img.hasAttribute('alt')) imagesWithAlt++;
            });

            if (images.length === 0) {
                addTestResult('Image Alt Text', 'info', 'No images found on page', 'test-10-1-results');
            } else if (imagesWithAlt === images.length) {
                addTestResult('Image Alt Text', 'pass', `All ${images.length} images have alt text`, 'test-10-1-results');
            } else {
                addTestResult('Image Alt Text', 'fail', `${images.length - imagesWithAlt} images missing alt text`, 'test-10-1-results');
            }

            // Test 4: Form labels
            const inputs = document.querySelectorAll('input, select, textarea');
            let inputsWithLabels = 0;
            inputs.forEach(input => {
                const id = input.getAttribute('id');
                if (id && document.querySelector(`label[for="${id}"]`)) {
                    inputsWithLabels++;
                } else if (input.getAttribute('aria-label') || input.getAttribute('aria-labelledby')) {
                    inputsWithLabels++;
                }
            });

            if (inputs.length === 0) {
                addTestResult('Form Labels', 'info', 'No form inputs found on page', 'test-10-1-results');
            } else if (inputsWithLabels === inputs.length) {
                addTestResult('Form Labels', 'pass', `All ${inputs.length} form inputs have labels`, 'test-10-1-results');
            } else {
                addTestResult('Form Labels', 'fail', `${inputs.length - inputsWithLabels} form inputs missing labels`, 'test-10-1-results');
            }

            // Test 5: Color contrast (basic check)
            const hasHighContrastSupport = document.querySelector('style').textContent.includes('@media (prefers-contrast: high)');
            if (hasHighContrastSupport) {
                addTestResult('High Contrast Support', 'pass', 'High contrast media query is implemented', 'test-10-1-results');
            } else {
                addTestResult('High Contrast Support', 'info', 'High contrast media query not found', 'test-10-1-results');
            }
        }

        function runAdvancedFeatureTests() {
            console.log('Running advanced feature tests...');

            // Test 1: Font Awesome icons
            const hasFontAwesome = document.querySelector('link[href*="font-awesome"]') !== null;
            if (hasFontAwesome) {
                addTestResult('Icon Library', 'pass', 'Font Awesome icons are loaded', 'test-10-2-results');
            } else {
                addTestResult('Icon Library', 'fail', 'Font Awesome icons are not loaded', 'test-10-2-results');
            }

            // Test 2: Interactive elements
            const buttons = document.querySelectorAll('button');
            if (buttons.length > 0) {
                addTestResult('Interactive Elements', 'pass', `Found ${buttons.length} interactive buttons`, 'test-10-2-results');
            } else {
                addTestResult('Interactive Elements', 'fail', 'No interactive buttons found', 'test-10-2-results');
            }

            // Test 3: CSS animations support
            const hasAnimationSupport = document.querySelector('style').textContent.includes('@media (prefers-reduced-motion');
            if (hasAnimationSupport) {
                addTestResult('Animation Accessibility', 'pass', 'Reduced motion preference is respected', 'test-10-2-results');
            } else {
                addTestResult('Animation Accessibility', 'info', 'Reduced motion preference not implemented', 'test-10-2-results');
            }

            // Test 4: JavaScript functionality
            try {
                // Test if we can create elements dynamically
                const testDiv = document.createElement('div');
                testDiv.className = 'test-element';
                if (testDiv.className === 'test-element') {
                    addTestResult('JavaScript DOM Manipulation', 'pass', 'JavaScript DOM manipulation works correctly', 'test-10-2-results');
                }
            } catch (error) {
                addTestResult('JavaScript DOM Manipulation', 'fail', 'JavaScript DOM manipulation failed: ' + error.message, 'test-10-2-results');
            }

            // Test 5: Event handling
            try {
                const testButton = document.createElement('button');
                let eventHandled = false;
                testButton.addEventListener('click', () => { eventHandled = true; });
                
                // Simulate click
                const clickEvent = new Event('click');
                testButton.dispatchEvent(clickEvent);
                
                if (eventHandled) {
                    addTestResult('Event Handling', 'pass', 'Event handling works correctly', 'test-10-2-results');
                } else {
                    addTestResult('Event Handling', 'fail', 'Event handling is not working', 'test-10-2-results');
                }
            } catch (error) {
                addTestResult('Event Handling', 'fail', 'Event handling test failed: ' + error.message, 'test-10-2-results');
            }
        }

        function runUIComponentTests() {
            console.log('Running UI component tests...');

            // Test 1: CSS Framework Integration
            const hasBootstrapJS = typeof bootstrap !== 'undefined';
            if (hasBootstrapJS) {
                addTestResult('Bootstrap JavaScript', 'pass', 'Bootstrap JavaScript is loaded and available', 'test-10-3-results');
            } else {
                addTestResult('Bootstrap JavaScript', 'fail', 'Bootstrap JavaScript is not loaded', 'test-10-3-results');
            }

            // Test 2: Responsive Grid System
            const containerElements = document.querySelectorAll('.container, .container-fluid');
            if (containerElements.length > 0) {
                addTestResult('Grid System', 'pass', `Found ${containerElements.length} container elements`, 'test-10-3-results');
            } else {
                addTestResult('Grid System', 'fail', 'No Bootstrap container elements found', 'test-10-3-results');
            }

            // Test 3: Component Classes
            const cardElements = document.querySelectorAll('.card');
            const buttonElements = document.querySelectorAll('.btn');
            
            if (cardElements.length > 0 && buttonElements.length > 0) {
                addTestResult('Bootstrap Components', 'pass', `Found ${cardElements.length} cards and ${buttonElements.length} buttons`, 'test-10-3-results');
            } else {
                addTestResult('Bootstrap Components', 'fail', 'Bootstrap components not found or insufficient', 'test-10-3-results');
            }

            // Test 4: Utility Classes
            const utilityElements = document.querySelectorAll('[class*="mb-"], [class*="mt-"], [class*="text-"]');
            if (utilityElements.length > 0) {
                addTestResult('Utility Classes', 'pass', `Found ${utilityElements.length} elements using utility classes`, 'test-10-3-results');
            } else {
                addTestResult('Utility Classes', 'fail', 'Bootstrap utility classes not being used', 'test-10-3-results');
            }

            // Test 5: Icon Integration
            const iconElements = document.querySelectorAll('.fas, .far, .fab');
            if (iconElements.length > 0) {
                addTestResult('Icon Integration', 'pass', `Found ${iconElements.length} Font Awesome icons`, 'test-10-3-results');
            } else {
                addTestResult('Icon Integration', 'fail', 'Font Awesome icons not found', 'test-10-3-results');
            }
        }

        function runAllTests() {
            clearResults();
            
            console.log('Running all Task 10 tests...');
            
            // Run all test suites
            runResponsiveTests();
            runAccessibilityTests();
            runAdvancedFeatureTests();
            runUIComponentTests();
            
            // Final summary
            setTimeout(() => {
                const successRate = Math.round((testResults.passed / testResults.total) * 100);
                console.log(`Tests completed: ${testResults.passed}/${testResults.total} passed (${successRate}%)`);
                
                if (successRate >= 80) {
                    alert(`✅ Task 10 tests completed successfully!\n${testResults.passed}/${testResults.total} tests passed (${successRate}%)`);
                } else {
                    alert(`⚠️ Some tests failed.\n${testResults.passed}/${testResults.total} tests passed (${successRate}%)\nPlease review the failed tests.`);
                }
            }, 1000);
        }

        // Auto-run tests on page load
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Task 10 UI Enhancements Test Page Loaded');
            setTimeout(runAllTests, 500);
        });
    </script>
</body>
</html>